{"ast":null,"code":"import _toConsumableArray from \"/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Form, FormGroup, Label, Input, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport TableEdition from './sections/TableEdition';\nimport TableSummary from './sections/TableSummary';\nimport NotificationSystem from 'react-notification-system';\nimport { Legend } from './sections/Legend';\nimport { Notes } from './sections/Notes';\nvar BASE_URL = 'http://localhost:3001';\nvar FILES_FORMAT = /(\\.jpg|\\.jpeg|\\.png|\\.pdf|\\.doc|\\.docx)$/i;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.notificationSystem = React.createRef();\n\n    _this.handleNotification = function (message, type) {\n      var notification = _this.notificationSystem.current;\n      notification.addNotification({\n        message: message,\n        level: type,\n        autoDismiss: 3,\n        position: 'tr'\n      });\n    };\n\n    _this.addRow = function () {\n      _this.setState({\n        toAdd: 'row',\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.addCol = function () {\n      _this.setState({\n        toAdd: 'col',\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      if (_this.state.nametoAdd.length === 0 || _this.state.nametoAdd === undefined) {\n        _this.handleNotification(\"Insert a valid name for \".concat(_this.state.toAdd), 'error');\n\n        return;\n      }\n\n      ;\n\n      if (_this.state.toAdd === \"col\") {\n        var newCol = {\n          id: _this.state.cols.length + 1,\n          name: _this.state.nametoAdd,\n          icon: true,\n          file: ''\n        };\n\n        _this.setState({\n          cols: [].concat(_toConsumableArray(_this.state.cols), [newCol]),\n          labels: [].concat(_toConsumableArray(_this.state.labels), [+newCol.name.length])\n        });\n      }\n\n      if (_this.state.toAdd === \"row\") {\n        var newRow = {\n          id: _this.state.rows.length + 1,\n          name: _this.state.nametoAdd,\n          icon: true,\n          file: ''\n        };\n\n        _this.setState({\n          rows: [].concat(_toConsumableArray(_this.state.rows), [newRow]),\n          labels: [].concat(_toConsumableArray(_this.state.labels), [+newRow.name.length])\n        });\n      }\n\n      _this.setState({\n        toAdd: '',\n        nametoAdd: '',\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.uploadFile = function (type, id, file) {\n      if (!FILES_FORMAT.exec(file.name)) {\n        _this.handleNotification('Upload only files in format JPG, JPEG, PNG, DOC, DOCX & PDF', 'error');\n\n        return;\n      }\n\n      ;\n      var data = new FormData();\n      data.append('file', file);\n      data.append('filename', file.name);\n      data.append('id', id);\n      data.append('type', type);\n      fetch(\"\".concat(BASE_URL, \"/upload\"), {\n        method: 'POST',\n        body: data\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resp) {\n        if (resp.status === 'done') {\n          if (type === 'row') {\n            var stateCopyRow = Object.assign([], _this.state.rows);\n            stateCopyRow[id - 1].icon = !stateCopyRow[id - 1].icon;\n            stateCopyRow[id - 1].file = resp.fileNewName;\n\n            _this.setState({\n              rows: stateCopyRow,\n              files: _this.state.files + 1\n            });\n          }\n\n          if (type === 'col') {\n            var stateCopyCol = Object.assign([], _this.state.cols);\n            stateCopyCol[id - 1].icon = !stateCopyCol[id - 1].icon;\n            stateCopyCol[id - 1].file = resp.fileNewName;\n\n            _this.setState({\n              cols: stateCopyCol,\n              files: _this.state.files + 1\n            });\n          }\n\n          _this.handleNotification('File uploaded!', 'success');\n        }\n      }).catch(function (err) {\n        console.error(\"Error:\", err);\n\n        _this.handleNotification('We can\\'t upload your file. Try again', 'error');\n      });\n    };\n\n    _this.state = {\n      title: '',\n      rows: [],\n      cols: [],\n      labels: [],\n      files: 0,\n      toAdd: '',\n      nametoAdd: '',\n      modal: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"titleLabel\",\n        htmlFor: \"titleInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Insert a title : \"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"titleInput\",\n        placeholder: \"Title...\",\n        onChange: function onChange(event) {\n          _this2.setState({\n            title: event.target.value.toUpperCase()\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6 table-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, this.state.title, \" EDITION VIEW\")), this.state.title || React.createElement(\"p\", {\n        style: {\n          fontStyle: 'italic'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Title of the question\"), React.createElement(TableEdition, {\n        addRow: this.addRow,\n        addCol: this.addCol,\n        uploadFile: this.uploadFile,\n        Rows: this.state.rows,\n        Cols: this.state.cols,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, this.state.title, \" EDITION SUMMARY\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Summary\"), React.createElement(TableSummary, {\n        Rows: this.state.rows,\n        Cols: this.state.cols,\n        numberFiles: this.state.files,\n        Labels: this.state.labels,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Legend, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(Notes, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })), React.createElement(NotificationSystem, {\n        ref: this.notificationSystem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggle,\n        className: this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Add \", this.state.toAdd), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          e.preventDefault();\n\n          _this2.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Label, {\n        for: \"nameAdd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Please give a name to the \", this.state.toAdd, \":\"), React.createElement(Input, {\n        type: \"search\",\n        name: \"nameAdd\",\n        id: \"nameAdd\",\n        placeholder: \"Name...\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            nametoAdd: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Create\"), ' ', React.createElement(Button, {\n        color: \"danger\",\n        onClick: function onClick() {\n          return _this2.setState({\n            modal: !_this2.state.modal\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/matias.pereira/Desktop/Mati/Task/quantilope/React/client/src/App.js"],"names":["React","Component","Form","FormGroup","Label","Input","Button","Modal","ModalHeader","ModalBody","ModalFooter","TableEdition","TableSummary","NotificationSystem","Legend","Notes","BASE_URL","FILES_FORMAT","App","props","notificationSystem","createRef","handleNotification","message","type","notification","current","addNotification","level","autoDismiss","position","addRow","setState","toAdd","modal","state","addCol","handleSubmit","e","nametoAdd","length","undefined","newCol","id","cols","name","icon","file","labels","newRow","rows","uploadFile","exec","data","FormData","append","fetch","method","body","then","res","json","resp","status","stateCopyRow","Object","assign","fileNewName","files","stateCopyCol","catch","err","console","error","title","event","target","value","toUpperCase","fontStyle","toggle","className","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { Form, FormGroup, Label, Input, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport TableEdition from './sections/TableEdition';\nimport TableSummary from './sections/TableSummary';\nimport NotificationSystem from 'react-notification-system';\nimport { Legend } from './sections/Legend';\nimport { Notes } from './sections/Notes';\n\nconst BASE_URL = 'http://localhost:3001';\nconst FILES_FORMAT = /(\\.jpg|\\.jpeg|\\.png|\\.pdf|\\.doc|\\.docx)$/i;\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      title: '',\n      rows: [],\n      cols: [],\n      labels: [],\n      files: 0,\n      toAdd: '',\n      nametoAdd: '',\n      modal: false\n    }\n  };\n  notificationSystem = React.createRef()\n\n  handleNotification = (message, type) => {\n    const notification = this.notificationSystem.current;\n    notification.addNotification({\n      message: message,\n      level: type,\n      autoDismiss: 3,\n      position: 'tr'\n    });\n  };\n\n  addRow = () => {\n    this.setState({\n      toAdd: 'row',\n      modal: !this.state.modal\n    });\n  };\n\n  addCol = () => {\n    this.setState({\n      toAdd: 'col',\n      modal: !this.state.modal\n    });\n  };\n\n  handleSubmit = (e) => {\n    if (this.state.nametoAdd.length === 0 || this.state.nametoAdd === undefined) {\n      this.handleNotification(`Insert a valid name for ${this.state.toAdd}`, 'error');\n      return;\n    };\n\n    if (this.state.toAdd === \"col\") {\n      const newCol = {\n        id: this.state.cols.length + 1,\n        name: this.state.nametoAdd,\n        icon: true,\n        file: ''\n      }\n      this.setState({\n        cols: [...this.state.cols, newCol],\n        labels: [...this.state.labels, +newCol.name.length]\n      })\n    }\n    if (this.state.toAdd === \"row\") {\n      const newRow = {\n        id: this.state.rows.length + 1,\n        name: this.state.nametoAdd,\n        icon: true,\n        file: ''\n      }\n      this.setState({\n        rows: [...this.state.rows, newRow],\n        labels: [...this.state.labels, +newRow.name.length]\n      })\n    }\n    this.setState({\n      toAdd: '',\n      nametoAdd: '',\n      modal: !this.state.modal\n    });\n  };\n\n  uploadFile = (type, id, file) => {\n    if (!FILES_FORMAT.exec(file.name)) {\n      this.handleNotification('Upload only files in format JPG, JPEG, PNG, DOC, DOCX & PDF', 'error');\n      return;\n    };\n    const data = new FormData();\n    data.append('file', file);\n    data.append('filename', file.name);\n    data.append('id', id);\n    data.append('type', type);\n\n    fetch(`${BASE_URL}/upload`, {\n      method: 'POST',\n      body: data,\n    })\n      .then(res => res.json())\n      .then((resp) => {\n        if (resp.status === 'done') {\n          if (type === 'row') {\n            let stateCopyRow = Object.assign([], this.state.rows);\n            stateCopyRow[id - 1].icon = !stateCopyRow[id - 1].icon;\n            stateCopyRow[id - 1].file = resp.fileNewName;\n            this.setState({\n              rows: stateCopyRow,\n              files: this.state.files + 1\n            });\n          }\n          if (type === 'col') {\n            let stateCopyCol = Object.assign([], this.state.cols);\n            stateCopyCol[id - 1].icon = !stateCopyCol[id - 1].icon;\n            stateCopyCol[id - 1].file = resp.fileNewName;\n            this.setState({\n              cols: stateCopyCol,\n              files: this.state.files + 1\n            });\n          }\n          this.handleNotification('File uploaded!', 'success');\n        }\n      })\n      .catch(err => {\n        console.error(\"Error:\", err);\n        this.handleNotification('We can\\'t upload your file. Try again', 'error');\n      })\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <label id=\"titleLabel\" htmlFor=\"titleInput\">Insert a title : </label>\n          <input type=\"text\" id=\"titleInput\" placeholder=\"Title...\" onChange={(event) => { this.setState({ title: event.target.value.toUpperCase() }) }} />\n        </div>\n        <br />\n        <div className=\"row\">\n          <div className=\"col-sm-6 table-div\" >\n            <h5><strong>{this.state.title} EDITION VIEW</strong></h5>\n            {this.state.title || <p style={{ fontStyle: 'italic' }}>Title of the question</p>}\n            <TableEdition\n              addRow={this.addRow}\n              addCol={this.addCol}\n              uploadFile={this.uploadFile}\n              Rows={this.state.rows}\n              Cols={this.state.cols} />\n          </div>\n          <div className=\"col-sm-6\">\n            <h5><strong>{this.state.title} EDITION SUMMARY</strong></h5>\n            <br />\n            <h6>Summary</h6>\n            <TableSummary\n              Rows={this.state.rows}\n              Cols={this.state.cols}\n              numberFiles={this.state.files}\n              Labels={this.state.labels} />\n          </div>\n        </div>\n        <br />\n        <div className=\"row\">\n          <Legend />\n          <Notes />\n        </div>\n        <NotificationSystem ref={this.notificationSystem} />\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Add {this.state.toAdd}</ModalHeader>\n          <ModalBody>\n            <Form onSubmit={(e) => { e.preventDefault(); this.handleSubmit(e) }}>\n              <FormGroup>\n                <Label for=\"nameAdd\">Please give a name to the {this.state.toAdd}:</Label>\n                <Input type=\"search\" name=\"nameAdd\" id=\"nameAdd\" placeholder=\"Name...\" onChange={(e) => this.setState({ nametoAdd: e.target.value })}></Input>\n              </FormGroup>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.handleSubmit}>Create</Button>{' '}\n            <Button color=\"danger\" onClick={() => this.setState({ modal: !this.state.modal })}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}